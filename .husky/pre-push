#!/bin/sh

echo "ğŸš€ Running pre-push checks..."

# 1. Type-check
echo "ğŸ“ TypeScript type-check..."
npm run typecheck
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript type-check failed!"
  exit 1
fi

# 2. Lint
echo "ğŸ” ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint failed!"
  exit 1
fi

# # 3. Tests
# echo "ğŸ§ª Tests..."
# npm run test:run
# if [ $? -ne 0 ]; then
#   echo "âŒ Tests failed!"
#   exit 1
# fi

# 4. Build
echo "ğŸ”¨ Build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Build failed!"
  exit 1
fi

echo "âœ… All checks passed!"
